<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings" Height="300" Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        WindowStyle="None"
        Background="{DynamicResource WindowBrush}"
        BorderBrush="{DynamicResource BorderBrush}"
        BorderThickness="1">

    <Window.Resources>
        <!-- Light Defaults -->
        <SolidColorBrush x:Key="WindowBrush" Color="#FAFAFA"/>
        <SolidColorBrush x:Key="ControlBrush" Color="White"/>
        <SolidColorBrush x:Key="TextBrush" Color="#333333"/>
        <SolidColorBrush x:Key="TextSubBrush" Color="#666666"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#DDDDDD"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#0080FF"/>
        <SolidColorBrush x:Key="HoverBrush" Color="#E5F3FF"/>
        
        <Style TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource ControlBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Name="border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{DynamicResource HoverBrush}"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Header -->
            <RowDefinition Height="*"/>    <!-- Content -->
            <RowDefinition Height="Auto"/> <!-- Footer -->
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Background="{DynamicResource AccentBrush}" Padding="15,10">
            <TextBlock Text="Join Elements - Settings" Foreground="White" FontWeight="Bold" FontSize="14"/>
        </Border>

        <!-- Content -->
        <StackPanel Grid.Row="1" Margin="20">
            <TextBlock Text="Routing Preferences" FontWeight="Bold" Margin="0,0,0,10" Foreground="{DynamicResource TextSubBrush}"/>
            
            <CheckBox Name="Cb_Rolling" Content="Allow Rolling Offsets" Margin="0,0,0,10" IsChecked="True"/>
            <TextBlock Text="Allows connections where pipes are not coplanar by adding a sloped intermediate segment." 
                       FontSize="10" Foreground="{DynamicResource TextSubBrush}" Margin="20,-5,0,10" TextWrapping="Wrap"/>

            <CheckBox Name="Cb_Vertical" Content="Allow Vertical Drops" Margin="0,0,0,10" IsChecked="True"/>
            <TextBlock Text="Allows vertical risers/drops to connect pipes at different elevations." 
                       FontSize="10" Foreground="{DynamicResource TextSubBrush}" Margin="20,-5,0,10" TextWrapping="Wrap"/>
            
            <!-- Future Placeholder -->
            <TextBlock Text="Default Slope (Future)" FontWeight="Bold" Margin="0,10,0,5" Foreground="{DynamicResource TextSubBrush}"/>
            <ComboBox IsEnabled="False" SelectedIndex="0">
                <ComboBoxItem Content="None (0%)"/>
                <ComboBoxItem Content="1/8&quot; / 12&quot; (1%)"/>
            </ComboBox>
        </StackPanel>

        <!-- Footer -->
        <Border Grid.Row="2" Background="{DynamicResource ControlBrush}" Padding="15,10" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Name="Btn_Cancel" Content="Cancel" Width="80" Margin="0,0,10,0"/>
                <Button Name="Btn_Save" Content="Save" Width="80" Background="{DynamicResource AccentBrush}" Foreground="White" FontWeight="SemiBold" BorderThickness="0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>